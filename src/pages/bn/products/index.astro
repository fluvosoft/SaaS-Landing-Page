---
// Importing necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro";
import CardSmall from "@components/ui/cards/CardSmall.astro";
import CardWide from "@components/ui/cards/CardWide.astro";
import FeaturesStatsAlt from "@components/sections/features/FeaturesStatsAlt.astro";
import TestimonialsSectionAlt from "@components/sections/testimonials/TestimonialsSectionAlt.astro";

// Importing necessary functions from Astro
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

// Fetching all the product related content and sorting it by main.id
const product: CollectionEntry<"products">[] = (
  await getCollection("products", ({ id }) => {
    return id.startsWith("bn/");
  })
).sort(
  (a: CollectionEntry<"products">, b: CollectionEntry<"products">) =>
    a.data.main.id - b.data.main.id
);

// Define variables for page content
const title: string = "Produits";
const subTitle: string =
  "Explorez les modèles de page d'atterrissage professionnels et les composants de Lumiro, conçus pour les entreprises de toutes tailles. Chaque modèle est fabriqué avec des principes de design modernes et conçu pour la performance, garantissant que vous avez la solution parfaite pour votre présence en ligne.";

// Testimonial data that will be rendered in the component
const testimonials = [
  {
    content:
      "Depuis que nous avons adopté les modèles de page d'atterrissage de Lumiro, nos taux de conversion en ligne ont explosé. Les composants de design modernes et les options de personnalisation transparentes sont tout simplement inégalés. C'est rafraîchissant de travailler avec un modèle qui comprend vraiment les besoins des entreprises modernes.",
    author: "Jason Clark",
    role: "Directeur Marketing | TechStart Inc.",
    avatarSrc:
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=facearea&facepad=2&w=320&h=320&q=80",
    avatarAlt: "Description de l'image",
  },

  {
    content:
      "En tant que fondateur de startup, je suis toujours à la recherche de modèles de haute qualité qui m'aident à donner vie rapidement à ma vision. La bibliothèque de composants de Lumiro a révolutionné nos projets, offrant le mélange parfait de design moderne et de fonctionnalité. La documentation et le support exceptionnels étaient la cerise sur le gâteau !",
    author: "Maria Gonzalez",
    role: "Fondatrice | Creative Spaces",
    avatarSrc:
      "https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1376&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D8&auto=format&fit=facearea&facepad=2&w=320&h=320&q=80",
    avatarAlt: "Description de l'image",
  },

  {
    content:
      "Je construis des sites web depuis plus de 15 ans, et je peux sincèrement dire que les modèles de page d'atterrissage de Lumiro sont parmi les meilleurs que j'ai utilisés. Ils sont magnifiquement conçus, fonctionnent parfaitement et les options de personnalisation sont étendues. De plus, le support est impeccable - ils se soucient vraiment du succès de votre projet.",
    author: "Richard Kim",
    role: "Développeur Web | Agence Digitale",
    avatarSrc:
      "https://images.unsplash.com/photo-1474176857210-7287d38d27c6?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D8&auto=format&fit=facearea&facepad=2&w=320&h=320&q=80",
    avatarAlt: "Description de l'image",
  },
];

const pageTitle = "Produits | Lumiro";
const metaDescription =
  "Explorez les modèles de page d'atterrissage professionnels et les composants de Lumiro, conçus pour les entreprises de toutes tailles.";
const ogTitle = "Modèles de Page d'Atterrissage | Lumiro";
---

<MainLayout
  title={pageTitle}
  lang="bn"
  customDescription={metaDescription}
  customOgTitle={ogTitle}
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://screwfast.uk/bn/products",
    url: "https://screwfast.uk/bn/products",
    name: "Modèles de Page d'Atterrissage | Lumiro",
    description:
      "Explorez les modèles de page d'atterrissage professionnels et les composants de Lumiro, conçus pour les entreprises de toutes tailles.",
    isPartOf: {
      "@type": "WebSite",
      url: "https://screwfast.uk/bn",
      name: "Lumiro",
      description:
        "Lumiro propose des modèles de page d'atterrissage professionnels avec des composants de design modernes et une personnalisation transparente pour votre entreprise.",
    },
    inLanguage: "bn",
  }}
>
  <div
    class="mx-auto max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 2xl:max-w-full"
  >
    <div class="mb-4 flex items-center justify-between gap-8 sm:mb-8 md:mb-12">
      <div class="flex items-center gap-12">
        <h1
          class="text-2xl font-bold tracking-tight text-balance text-neutral-800 md:text-4xl md:leading-tight dark:text-neutral-200"
        >
          {title}
        </h1>
        {
          subTitle && (
            <p class="hidden max-w-(--breakpoint-sm) text-pretty text-neutral-600 md:block dark:text-neutral-400">
              {subTitle}
            </p>
          )
        }
      </div>
      <PrimaryCTA
        title="Histoires de clients"
        url="#testimonials"
        noArrow={true}
      />
    </div>
    {/* Displaying products in alternating styles. Alternative product gets different card styling. */}
    {/* Maps through all product entries and displays them with either CardSmall or CardWide based on their position. */}
    <section class="grid grid-cols-1 gap-4 sm:grid-cols-3 md:gap-6 xl:gap-8">
      {
        product.map((product, index) => {
          const position = index % 4;
          if (position === 0 || position === 3) {
            return <CardSmall product={product} productLocale="bn" />;
          } else {
            return <CardWide product={product} productLocale="bn" />;
          }
        })
      }
    </section>
  </div>
  {/* Features statistics section */}
  <FeaturesStatsAlt
    title="Pourquoi choisir Lumiro ?"
    subTitle="Transformez vos idées d'entreprise en présence en ligne époustouflante avec les modèles Lumiro. Que vous démarriez une nouvelle entreprise ou redessiniez votre site web, nos modèles sont conçus pour vous aider à créer des pages d'atterrissage professionnelles en toute confiance."
    benefits={[
      "Modèles modernes et réactifs pour des performances exceptionnelles.",
      "Composants de design innovants adaptés aux besoins des entreprises modernes.",
      "Support dédié pour assurer le succès de votre page d'atterrissage.",
    ]}
  />
  {/* Testimonials section */}
  <TestimonialsSectionAlt
    title="Ce que disent nos clients"
    testimonials={testimonials}
  />
</MainLayout>
