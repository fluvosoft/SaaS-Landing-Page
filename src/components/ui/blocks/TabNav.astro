---
// Extract properties from Astro.props
const { aria, dataTab, id, heading, content, first } = Astro.props;

// Define TypeScript interface for properties
interface Props {
  dataTab: string;
  id: string;
  aria: string;
  heading?: string;
  content?: string;
  first?: boolean;
}
// Define button classes - hover mirrors active state so every section gets the same look on hover
const BUTTON_CLASS =
  "group rounded-xl p-4 text-start outline-hidden ring-zinc-500 transition-all duration-300 hover:bg-neutral-50 hover:shadow-md focus-visible:ring-3 hs-tab-active:bg-neutral-50 hs-tab-active:shadow-md hs-tab-active:hover:border-transparent dark:ring-zinc-200 dark:focus:outline-hidden dark:hover:bg-neutral-700/60 dark:hs-tab-active:bg-neutral-700/60 md:p-5";

/*
first: This property should be set to true for the initial TabNav component in your list
to ensure that it's visible when the page first loads. All subsequent TabNav components
should omit this property or set it to false.

Example:
<TabNav id="" dataTab="" aria="" heading="" paragraph="" first={true} />
<TabNav id="" dataTab="" aria="" heading="" paragraph="" />
<TabNav id="" dataTab="" aria="" heading="" paragraph="" />
*/
---

<!-- Tab button with dynamic class based on 'first' property, id, tab data, and aria-controls  -->
<button
  type="button"
  class={`${first ? "active " : ""}${BUTTON_CLASS}`}
  id={id}
  data-hs-tab={dataTab}
  aria-controls={aria}
  role="tab"
>
  <!-- Slot for additional content - icon turns orange on hover and when active -->
  <span class="flex">
    <span class="flex shrink-0 items-center justify-center text-neutral-600 transition-colors group-hover:text-orange-400 group-[.hs-tab-active]:text-orange-400 dark:text-neutral-400 dark:group-hover:text-orange-300 dark:group-[.hs-tab-active]:text-orange-300">
      <slot />
    </span>
    <!-- Container for the heading and content of the tab -->
    <span class="ms-6 grow">
      <!-- Heading of the tab, changes color when active or on hover -->
      <span
        class="block text-lg font-bold text-neutral-800 transition-colors group-hover:text-orange-400 dark:text-neutral-200 dark:group-hover:text-orange-300 hs-tab-active:text-orange-400 dark:hs-tab-active:text-orange-300"
        >{heading}</span
      >
      <!-- Content of the tab, changes color when active or on hover -->
      <span
        class="mt-1 block text-neutral-500 transition-colors group-hover:text-neutral-600 dark:text-neutral-400 dark:group-hover:text-neutral-200 hs-tab-active:text-neutral-600 dark:hs-tab-active:text-neutral-200"
        >{content}</span
      >
    </span>
  </span>
</button>
